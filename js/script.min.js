document.addEventListener("DOMContentLoaded",(function(){window.onscroll=function(){var header=document.querySelector(".header");window.pageYOffset>70?header.classList.add("-scrolled"):header.classList.remove("-scrolled")};const smoothLinks=document.querySelectorAll('a[href^="#"]');for(let smoothLink of smoothLinks)smoothLink.addEventListener("click",(function(e){e.preventDefault(),smoothLinks.forEach(element=>{element.parentElement.classList.remove("-active")}),smoothLink.parentElement.classList.add("-active");const id=smoothLink.getAttribute("href");document.querySelector(id).scrollIntoView({behavior:"smooth",block:"start"}),mobileMenu.classList.remove("-active"),openMobileBtn.classList.remove("-active")}));const openMobileBtn=document.querySelector(".menu-btn"),mobileMenu=document.querySelector(".header__nav");openMobileBtn.addEventListener("click",()=>{mobileMenu.classList.toggle("-active"),openMobileBtn.classList.toggle("-active")});const registrationBtn=document.querySelector(".hero__btn-wrapper"),mainForm=document.querySelector(".main-form"),mainFormOverlay=document.querySelector(".main-form__overlay"),mainFormBtn=document.querySelector(".main-form__btn"),confirmationForm=document.querySelector(".confirmation-form"),confirmationFormOverlay=document.querySelector(".confirmation-form__overlay");function closeMainForm(){mainForm.classList.remove("-active")}function closeConfirmationForm(){confirmationForm.classList.remove("-active")}registrationBtn.addEventListener("click",e=>{e.preventDefault(),mainForm.classList.add("-active")}),mainFormOverlay.addEventListener("click",()=>{closeMainForm()}),confirmationFormOverlay.addEventListener("click",()=>{closeConfirmationForm()}),$(".phone-input").mask("+38(999)999-99-99",{translation:{9:{pattern:/[0-9]/,optional:!0}},autoclear:!1}),$(".main-form__form").each((function(){$(this).validate({errorClass:"input-invalid",rules:{name:{required:!0,minlength:2},email:{required:!0,email:!0},phone:{required:!0}},messages:{name:{required:"Пожалуйста введите ваше имя",minlength:jQuery.validator.format("Минимум 2 знака")},email:{required:"Пожалуйста введите ваш Email",email:"Email должен быть вида: name@domain.com"},phone:{required:"Пожалуйста введите ваш телефон"}}})}));const heroWrapper=document.querySelector(".hero-wrapper");function heroWrapperAutoHeight(){let heroWrapperWidth=heroWrapper.getBoundingClientRect().width;heroWrapper.style.height=heroWrapperWidth/16*9+"px"}heroWrapperAutoHeight(),window.addEventListener("resize",()=>{heroWrapperAutoHeight()});const historyBtn=document.querySelector(".history__btn"),historyTextBlock=document.querySelector(".history__text-block"),historyText=document.querySelector(".history__text"),historyTextBlockHeightConst=historyTextBlock.getBoundingClientRect().height;historyBtn.addEventListener("click",()=>{historyBtn.classList.toggle("-maximized"),historyTextBlock.classList.toggle("-maximized");let historyTextBlockHeight=historyTextBlock.getBoundingClientRect().height,historyTextHeight=historyText.getBoundingClientRect().height;historyTextBlock.style.height=historyTextHeight>historyTextBlockHeight?historyTextHeight+"px":historyTextBlockHeightConst+"px"});const calcInput=document.querySelector(".calc__enter-input"),calcBtn=document.querySelector(".calc__btn"),calcResult=document.querySelector(".calc__result-value");let coefficient=2.76;function calcEarnings(){let result=(2.76*calcInput.value).toFixed(2);isNaN(calcInput.value)?calcResult.innerText="Введите сумму цифрами":calcResult.innerText=result}calcBtn.addEventListener("click",()=>{calcEarnings()}),calcInput.addEventListener("keyup",(function(event){"Enter"==event.code?calcEarnings():"Escape"==event.code&&(calcInput.value="",calcResult.innerText="")})),calcInput.addEventListener("input",()=>{calcResult.innerText=""})}));